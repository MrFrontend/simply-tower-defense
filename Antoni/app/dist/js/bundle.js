!function t(e,n,i){function s(a,r){if(!n[a]){if(!e[a]){var h="function"==typeof require&&require;if(!r&&h)return h(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[a]={exports:{}};e[a][0].call(d.exports,function(t){var n=e[a][1][t];return s(n?n:t)},d,d.exports,t,e,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)s(i[a]);return s}({1:[function(t,e,n){"use strict";var i=function(){function t(t){this.rootElement=t,this.enemyWidth=20,this.enemyHeight=20,this.updateFrequency=100,this.updateCounter=this.updateFrequency,this.moveStep=6,this.tangent=0,this.enemyTop=300,this.enemyLeft=400,this.createCanvasElement(),this.render()}return t.prototype.render=function(){this.canvas.style.top=this.enemyTop+"px",this.canvas.style.left=this.enemyLeft+"px"},t.prototype.update=function(){if(this.updateCounter===this.updateFrequency){this.tangent+=.1;var t=100,e=300,n=300;this.enemyLeft=Math.floor(e+t*Math.cos(this.tangent)),this.enemyTop=Math.floor(n+t*Math.sin(this.tangent))}else this.updateCounter++},t.prototype.createCanvasElement=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.enemyWidth,this.canvas.height=this.enemyHeight,this.canvas.className="tower-defense-enemy",this.rootElement.appendChild(this.canvas),this.context=this.canvas.getContext("2d")},t}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=i},{}],2:[function(t,e,n){"use strict";var i=t("./TowerDefenseMap"),s=t("./Enemy"),o=function(){function t(t,e,n){void 0===e&&(e=600),void 0===n&&(n=600),this.rootElement=t,this.gameWidth=e,this.gameHeight=n,this.tickLength=40,this.secondsSinceStart=0,this.gameRunning=!1,this.enemies=[],this.gameMap=new i.default(t,e,n),this.setInitialState(),this.testElement=document.getElementById("test")}return t.prototype.setInitialState=function(){this.gameMap.render();var t=new s.default(this.rootElement);this.enemies.push(t)},t.prototype.startGame=function(){this.gameRunning===!1&&(console.warn("start game"),this.lastRender=this.lastTick,this.lastTick=performance.now(),this.gameRunning=!0,this.main(performance.now()))},t.prototype.stopGame=function(){this.gameRunning===!0&&(console.warn("stop game"),this.gameRunning=!1,window.cancelAnimationFrame(this.stopMain))},t.prototype.resetGame=function(){this.setInitialState()},t.prototype.update=function(t){var e=Math.floor(t/1e3);e>this.secondsSinceStart&&Math.floor(t%1e3)<100&&(this.secondsSinceStart=e,e%2===0?this.testElement.style.left="10px":this.testElement.style.left="570px"),this.enemies.forEach(function(t){t.update()})},t.prototype.render=function(t){this.enemies.forEach(function(t){t.render()})},t.prototype.queueUpdates=function(t){for(var e=0;e<t;e++)this.lastTick=this.lastTick+this.tickLength,this.update(this.lastTick)},t.prototype.main=function(t){this.stopMain=window.requestAnimationFrame(this.main.bind(this));var e=this.lastTick+this.tickLength,n=0;if(t>e){var i=t-this.lastTick;n=Math.floor(i/this.tickLength)}this.queueUpdates(n),this.render(t),this.lastRender=t},t}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=o},{"./Enemy":1,"./TowerDefenseMap":3}],3:[function(t,e,n){"use strict";var i=function(){function t(t,e,n,i){void 0===i&&(i=16),this.rootElement=t,this.width=e,this.height=n,this.sections=i,this.padding=10,this.lineWidth=.5,this.resize(e,n),this.createCanvasElement()}return t.prototype.render=function(){var t=this;window.requestAnimationFrame(function(){for(var e=0;e<=t.boardWidth;e+=t.spaceBetweenSections)t.context.moveTo(.5+e+t.padding,t.padding),t.context.lineTo(.5+e+t.padding,t.boardHeight+t.padding);for(var e=0;e<=t.boardHeight;e+=t.spaceBetweenSections)t.context.moveTo(t.padding,.5+e+t.padding),t.context.lineTo(t.boardWidth+t.padding,.5+e+t.padding);t.context.strokeStyle="black",t.context.stroke()})},t.prototype.resize=function(t,e){this.boardWidth=this.width-2*this.padding,this.boardHeight=this.height-2*this.padding,this.spaceBetweenSections=this.boardWidth/this.sections},t.prototype.createCanvasElement=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.canvas.className="tower-defense-map",this.rootElement.appendChild(this.canvas),this.context=this.canvas.getContext("2d")},t}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=i},{}],4:[function(t,e,n){"use strict";var i=t("./TowerDefenseGame");window.onload=function(){var t=document.getElementById("startButton"),e=document.getElementById("stopButton"),n=document.getElementById("container"),s=new i.default(n);t.onclick=function(){s.startGame()},e.onclick=function(){s.stopGame()}}},{"./TowerDefenseGame":2}]},{},[4]);
//# sourceMappingURL=bundle.js.map
