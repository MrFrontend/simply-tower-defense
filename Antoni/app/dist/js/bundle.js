!function e(t,n,i){function a(o,r){if(!n[o]){if(!t[o]){var h="function"==typeof require&&require;if(!r&&h)return h(o,!0);if(s)return s(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[o]={exports:{}};t[o][0].call(u.exports,function(e){var n=t[o][1][e];return a(n?n:e)},u,u.exports,e,t,n,i)}return n[o].exports}for(var s="function"==typeof require&&require,o=0;o<i.length;o++)a(i[o]);return a}({1:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t){i(this,e),this.rootElement=t,this.enemyWidth=20,this.enemyHeight=20,this.updateFrequency=100,this.updateCounter=this.updateFrequency,this.moveStep=6,this.tangent=0,this.enemyTop=300,this.enemyLeft=400,this.createCanvasElement(),this.render()}return a(e,[{key:"render",value:function(){this.canvas.style.top=this.enemyTop+"px",this.canvas.style.left=this.enemyLeft+"px"}},{key:"update",value:function(){if(this.updateCounter===this.updateFrequency){this.tangent+=.1;var e=100,t=300,n=300;this.enemyLeft=Math.floor(t+e*Math.cos(this.tangent)),this.enemyTop=Math.floor(n+e*Math.sin(this.tangent))}else this.updateCounter++}},{key:"createCanvasElement",value:function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.enemyWidth,this.canvas.height=this.enemyHeight,this.canvas.className="tower-defense-enemy",this.rootElement.appendChild(this.canvas),this.context=this.canvas.getContext("2d")}}]),e}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=s},{}],2:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=e("./TowerDefenseMap"),o=e("./Enemy"),r=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:600,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:600;i(this,e),this.rootElement=t,this.gameWidth=n,this.gameHeight=a,this.tickLength=40,this.secondsSinceStart=0,this.gameRunning=!1,this.enemies=[],this.gameMap=new s.default(t,n,a),this.setInitialState(),this.testElement=document.getElementById("test")}return a(e,[{key:"setInitialState",value:function(){this.gameMap.render();var e=new o.default(this.rootElement);this.enemies.push(e)}},{key:"startGame",value:function(){this.gameRunning===!1&&(console.warn("start game"),this.lastRender=this.lastTick,this.lastTick=performance.now(),this.gameRunning=!0,this.main(performance.now()))}},{key:"stopGame",value:function(){this.gameRunning===!0&&(console.warn("stop game"),this.gameRunning=!1,window.cancelAnimationFrame(this.stopMain))}},{key:"resetGame",value:function(){this.setInitialState()}},{key:"update",value:function(e){var t=Math.floor(e/1e3);t>this.secondsSinceStart&&Math.floor(e%1e3)<100&&(this.secondsSinceStart=t,t%2===0?this.testElement.style.left="10px":this.testElement.style.left="570px"),this.enemies.forEach(function(e){e.update()})}},{key:"render",value:function(e){this.enemies.forEach(function(e){e.render()})}},{key:"queueUpdates",value:function(e){for(var t=0;t<e;t++)this.lastTick=this.lastTick+this.tickLength,this.update(this.lastTick)}},{key:"main",value:function(e){this.stopMain=window.requestAnimationFrame(this.main.bind(this));var t=this.lastTick+this.tickLength,n=0;if(e>t){var i=e-this.lastTick;n=Math.floor(i/this.tickLength)}this.queueUpdates(n),this.render(e),this.lastRender=e}}]),e}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=r},{"./Enemy":1,"./TowerDefenseMap":3}],3:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t,n,a){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:16;i(this,e),this.rootElement=t,this.width=n,this.height=a,this.sections=s,this.padding=10,this.lineWidth=.5,this.resize(n,a),this.createCanvasElement()}return a(e,[{key:"render",value:function(){var e=this;window.requestAnimationFrame(function(){for(var t=0;t<=e.boardWidth;t+=e.spaceBetweenSections)e.context.moveTo(.5+t+e.padding,e.padding),e.context.lineTo(.5+t+e.padding,e.boardHeight+e.padding);for(var t=0;t<=e.boardHeight;t+=e.spaceBetweenSections)e.context.moveTo(e.padding,.5+t+e.padding),e.context.lineTo(e.boardWidth+e.padding,.5+t+e.padding);e.context.strokeStyle="black",e.context.stroke()})}},{key:"resize",value:function(e,t){this.boardWidth=this.width-2*this.padding,this.boardHeight=this.height-2*this.padding,this.spaceBetweenSections=this.boardWidth/this.sections}},{key:"createCanvasElement",value:function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.canvas.className="tower-defense-map",this.rootElement.appendChild(this.canvas),this.context=this.canvas.getContext("2d")}}]),e}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=s},{}],4:[function(e,t,n){"use strict";var i=e("./TowerDefenseGame");window.onload=function(){var e=document.getElementById("startButton"),t=document.getElementById("stopButton"),n=document.getElementById("container"),a=new i.default(n);e.onclick=function(){a.startGame()},t.onclick=function(){a.stopGame()}}},{"./TowerDefenseGame":2}]},{},[4]);
//# sourceMappingURL=bundle.js.map
